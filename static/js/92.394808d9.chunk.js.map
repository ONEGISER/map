{"version":3,"sources":["../node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js","../node_modules/@arcgis/core/layers/ogc/xmlUtils.js","../node_modules/@arcgis/core/layers/ogc/dateUtils.js","../node_modules/@arcgis/core/layers/ogc/wfsUtils.js","../node_modules/@arcgis/core/layers/graphics/sources/WFSSource.js","../node_modules/@arcgis/core/layers/WFSLayer.js"],"names":["i","LineString","MultiLineString","MultiPoint","Point","Polygon","MultiPolygon","s","e","c","type","t","features","u","coordinates","f","length","p","n","o","r","d","push","g","G","w","h","S","F","P","k","b","j","a","M","y","lengths","coords","hasZ","O","T","data","crs","properties","name","code","RegExp","test","L","Set","l","geometryType","m","geometry","id","Object","keys","filter","has","add","delete","alias","fields","objectIdFieldName","objectIdFieldType","unknownFields","Array","from","I","objectIdField","children","localName","exec","groups","year","month","day","hours","minutes","seconds","ms","padEnd","substring","isUTC","Date","UTC","offsetSign","offsetHours","offsetMinutes","getTime","Number","isNaN","x","C","E","N","v","U","async","D","te","firstElementChild","getAttribute","ne","ae","FeatureTypeList","FeatureType","typeName","title","description","extent","namespacePrefix","namespaceUri","supportedSpatialReferences","parseInt","textContent","match","wkid","Name","prefix","re","lookupNamespaceURI","Abstract","Title","WGS84BoundingBox","split","map","parseFloat","xmin","ymin","xmax","ymax","spatialReference","V","DefaultSRS","DefaultCRS","OtherSRS","OtherCRS","operations","featureTypes","readFeatureTypes","responseType","query","SERVICE","REQUEST","VERSION","customParameters","signal","DescribeFeatureType","url","GetFeature","$","GetCapabilities","outputFormat","supportsPagination","OperationsMetadata","Operation","DCP","HTTP","Get","Parameter","AllowedValues","Value","toLowerCase","Constraint","DefaultValue","W","X","featureType","WGS84","next","value","Y","swapXY","geometryField","J","_","error","errors","z","q","wfsCapabilities","find","unshift","Promise","all","K","count","Z","fromJSON","toFixed","element","complexType","complexContent","extension","sequence","hasAttribute","simpleType","restriction","maxLength","nullable","XMLSerializer","serializeToString","H","B","document","Q","TYPENAME","replace","dateFields","JSON","parse","response","TYPENAMES","OUTPUTFORMAT","SRSNAME","STARTINDEX","startIndex","COUNT","DOMParser","parseFromString","trim","Exception","ExceptionText","constructor","super","arguments","this","_connection","capabilities","refresh","load","invoke","sourceJSON","dataChanged","updates","addResolvingPromise","_startWorker","resolve","destroy","close","openPorts","toJSON","layer","some","getFeatureUrl","getFeatureOutputFormat","_createLoadOptions","strategy","drawingInfo","wfsInfo","featureUrl","maxFeatures","version","wfsNamespace","prototype","constructOnly","copyright","definitionExpression","displayField","elevationInfo","fieldsIndex","fullExtent","labelsVisible","labelingInfo","legendEnabled","operationalLayerType","mode","outFields","popupEnabled","popupTemplate","screenSizePerspectiveEnabled","source","spatialReferences","static","loadFromPortal","supportedTypes","then","read","origin","parsedUrl","revert","renderer","timeInfo","createQueryVersion","commitProperty","_get","defaultPopupTemplate","createPopupTemplate","writeFields","_set","createQuery","returnGeometry","where","timeOffset","timeExtent","offset","unit","getFieldDomain","getField","domain","get","queryFeatures","sourceLayer","queryObjectIds","queryFeatureCount","queryExtent","ignoreDefaults","readOnly","String","json","write","ignoreOrigin","enabled","allowNull","R","isRequired","origins","service","reader","target","writer","types","Boolean"],"mappings":"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","file":"static/js/92.394808d9.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{OptimizedFeature as t}from\"../../OptimizedFeature.js\";import n from\"../../OptimizedGeometry.js\";import{normalizeFieldName as o,isNumericField as r}from\"../../../support/fieldUtils.js\";const i={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function s(e){return i[e]}function*c(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*u(e){if(!e)return null;switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function*l(e,o={}){const{geometryType:r,objectIdField:i}=o;for(const c of e){const{geometry:e,properties:u,id:l}=c;if(e&&s(e.type)!==r)continue;const f=u||{};let a=f[i]??null;i&&null!=l&&!f[i]&&(f[i]=a=l);const y=new t(e?g(new n,e,o):null,f,null,a);yield y}}function f(e){for(const t of e)if(t.length>2)return!0;return!1}function a(e){return!p(e)}function y(e){return p(e)}function p(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function d(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function g(e,t,n){switch(t.type){case\"LineString\":return m(e,t,n);case\"MultiLineString\":return h(e,t,n);case\"MultiPoint\":return w(e,t,n);case\"MultiPolygon\":return P(e,t,n);case\"Point\":return b(e,t,n);case\"Polygon\":return j(e,t,n)}}function m(e,t,n){return G(e,t.coordinates,n),e}function h(e,t,n){for(const o of t.coordinates)G(e,o,n);return e}function w(e,t,n){return G(e,t.coordinates,n),e}function P(e,t,n){for(const o of t.coordinates){S(e,o[0],n);for(let t=1;t<o.length;t++)F(e,o[t],n)}return e}function b(e,t,n){return k(e,t.coordinates,n),e}function j(e,t,n){const o=t.coordinates;S(e,o[0],n);for(let r=1;r<o.length;r++)F(e,o[r],n);return e}function S(e,t,n){const o=d(t);a(o)?M(e,o,n):G(e,o,n)}function F(e,t,n){const o=d(t);y(o)?M(e,o,n):G(e,o,n)}function G(e,t,n){for(const o of t)k(e,o,n);e.lengths.push(t.length)}function M(e,t,n){for(let o=t.length-1;o>=0;o--)k(e,t[o],n);e.lengths.push(t.length)}function k(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function O(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function T(t){if(!t)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:\"EPSG\"===n.type?n.properties.code:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function L(e,t={}){const n=[],i=new Set,l=new Set;let a,y=!1,p=null,d=!1,{geometryType:g=null}=t,m=!1;for(const r of c(e)){const{geometry:e,properties:t,id:c}=r;if(!e||(g||(g=s(e.type)),s(e.type)===g)){if(!y){y=f(u(e))}if(d||(d=null!=c,d&&(a=typeof c,p=Object.keys(t).filter((e=>t[e]===c)))),d&&null!=c&&(p.length>1?p=p.filter((e=>t[e]===c)):1===p.length&&(p=t[p[0]]===c?p:[])),!m&&t){let e=!0;for(const r in t){if(i.has(r))continue;const s=t[r];if(null==s){e=!1,l.add(r);continue}const c=O(s);\"unknown\"!==c?(l.delete(r),i.add(r),n.push({name:o(r),alias:r,type:c})):l.add(r)}m=e}}}const h=o(1===p?.length&&p[0]||null);if(h)for(const o of n)if(o.name===h&&r(o)){o.type=\"esriFieldTypeOID\";break}return{fields:n,geometryType:g,hasZ:y,objectIdFieldName:h,objectIdFieldType:a,unknownFields:Array.from(l)}}function I(e,t){return Array.from(l(c(e),t))}export{I as createOptimizedFeatures,s as getGeometryType,L as inferLayerProperties,T as validateGeoJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nfunction o(n,c){if(n&&c)for(const f of n.children)if(f.localName in c){const n=c[f.localName];if(\"function\"==typeof n){const c=n(f);c&&o(f,c)}else o(f,n)}}function*n(o,c){for(const f of o.children)if(f.localName in c){const o=c[f.localName];\"function\"==typeof o?yield o(f):yield*n(f,o)}}export{n as iterateXML,o as visitXML};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nfunction e(e){return t(e)??n(e)}function n(e){const n=new Date(e).getTime();return Number.isNaN(n)?null:n}function t(e){const n=s.exec(e);if(!n?.groups)return null;const t=n.groups,u=+t.year,o=+t.month-1,r=+t.day,f=+(t.hours??\"0\"),i=+(t.minutes??\"0\"),d=+(t.seconds??\"0\");if(f>23)return null;if(i>59)return null;if(d>59)return null;const l=t.ms??\"0\",c=l?+l.padEnd(3,\"0\").substring(0,3):0;let a;if(t.isUTC)a=Date.UTC(u,o,r,f,i,d,c);else if(t.offsetSign){const e=+t.offsetHours,n=+t.offsetMinutes;a=6e4*(\"+\"===t.offsetSign?-1:1)*(60*e+n)+Date.UTC(u,o,r,f,i,d,c)}else a=new Date(u,o,r,f,i,d,c).getTime();return Number.isNaN(a)?null:a}const s=/^(?:(?<year>-?\\d{4,})-(?<month>\\d{2})-(?<day>\\d{2}))(?:T(?<hours>\\d{2}):(?<minutes>\\d{2}):(?<seconds>\\d{2})(?:\\.(?<ms>\\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\\+|-)(?<offsetHours>\\d{2}):(?<offsetMinutes>\\d{2})))?$/;export{e as parseDate,n as parseJSDate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import t from\"../../core/Error.js\";import{cache as r,find as n}from\"../../core/iteratorUtils.js\";import{isNone as a,isSome as o}from\"../../core/maybe.js\";import{eachAlways as s}from\"../../core/promiseUtils.js\";import{isHTTPSProtocol as i,hasSameOrigin as p,toHTTPS as u}from\"../../core/urlUtils.js\";import{initializeProjection as c,project as l}from\"../../geometry/projection.js\";import{WGS84 as m,equals as y}from\"../../geometry/support/spatialReferenceUtils.js\";import{featureGeometryTypeKebabDictionary as f}from\"../../geometry/support/typeUtils.js\";import{getGeometryType as d}from\"../graphics/sources/geojson/geojson.js\";import{parseDate as g}from\"./dateUtils.js\";import{visitXML as w,iterateXML as b}from\"./xmlUtils.js\";import h from\"../support/Field.js\";import T from\"../../geometry/SpatialReference.js\";import F from\"../../geometry/Extent.js\";const S=\"xlink:href\",x=\"2.0.0\",C=\"__esri_wfs_id__\",E=\"wfs-layer:getWFSLayerTypeInfo-error\",N=\"wfs-layer:empty-service\",P=\"wfs-layer:feature-type-not-found\",R=\"wfs-layer:geojson-not-supported\",j=\"wfs-layer:kvp-encoding-not-supported\",A=\"wfs-layer:malformed-json\",G=\"wfs-layer:unknown-geometry-type\",k=\"wfs-layer:unknown-field-type\",v=\"wfs-layer:unsupported-spatial-reference\",U=\"wfs-layer:unsupported-wfs-version\";async function D(t,r){const n=I((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetCapabilities\",VERSION:x,...r?.customParameters},signal:r?.signal})).data);return $(t,n),n}function I(e){const t=te(e);ne(t),ae(t);const n=t.firstElementChild,a=r(M(n));return{operations:L(n),get featureTypes(){return Array.from(a())},readFeatureTypes:a}}const O=new Set([\"json\",\"application/json\",\"geojson\",\"application/json; subtype=geojson\"]);function L(e){let r=!1;const n={GetCapabilities:{url:\"\"},DescribeFeatureType:{url:\"\"},GetFeature:{url:\"\",outputFormat:null,supportsPagination:!1}};if(w(e,{OperationsMetadata:{Operation:e=>{switch(e.getAttribute(\"name\")){case\"GetCapabilities\":return{DCP:{HTTP:{Get:e=>{n.GetCapabilities.url=e.getAttribute(S)}}}};case\"DescribeFeatureType\":return{DCP:{HTTP:{Get:e=>{n.DescribeFeatureType.url=e.getAttribute(S)}}}};case\"GetFeature\":return{DCP:{HTTP:{Get:e=>{n.GetFeature.url=e.getAttribute(S)}}},Parameter:e=>{if(\"outputFormat\"===e.getAttribute(\"name\"))return{AllowedValues:{Value:e=>{const t=e.textContent;t&&O.has(t.toLowerCase())&&(n.GetFeature.outputFormat=t)}}}}}}},Constraint:e=>{switch(e.getAttribute(\"name\")){case\"KVPEncoding\":return{DefaultValue:e=>{r=\"true\"===e.textContent.toLowerCase()}};case\"ImplementsResultPaging\":return{DefaultValue:e=>{n.GetFeature.supportsPagination=\"true\"===e.textContent.toLowerCase()}}}}}}),!r)throw new t(j,\"WFS service doesn't support key/value pair (KVP) encoding\");if(a(n.GetFeature.outputFormat))throw new t(R,\"WFS service doesn't support GeoJSON output format\");return n}function $(e,t){i(e)&&(p(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=u(t.operations.DescribeFeatureType.url)),p(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=u(t.operations.GetFeature.url)))}function M(e){return b(e,{FeatureTypeList:{FeatureType:e=>{const t={typeName:\"undefined:undefined\",name:\"\",title:\"\",description:\"\",extent:null,namespacePrefix:\"\",namespaceUri:\"\",supportedSpatialReferences:[]},r=new Set([4326]),n=e=>{const t=parseInt(e.textContent?.match(/(?<wkid>\\d+$)/i)?.groups?.wkid??\"\",10);Number.isNaN(t)||r.add(t)};return w(e,{Name:e=>{const{name:r,prefix:n}=re(e.textContent);t.typeName=`${n}:${r}`,t.name=r,t.namespacePrefix=n,t.namespaceUri=e.lookupNamespaceURI(n)},Abstract:e=>{t.description=e.textContent},Title:e=>{t.title=e.textContent},WGS84BoundingBox:e=>{t.extent=V(e)},DefaultSRS:n,DefaultCRS:n,OtherSRS:n,OtherCRS:n}),t.title||(t.title=t.name),t.supportedSpatialReferences.push(...r),t}}})}function V(e){let t,r,n,a;for(const o of e.children)switch(o.localName){case\"LowerCorner\":[t,r]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)));break;case\"UpperCorner\":[n,a]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)))}return{xmin:t,ymin:r,xmax:n,ymax:a,spatialReference:m}}function W(e,t,r){return n(e,(e=>r?e.name===t&&e.namespaceUri===r:e.typeName===t||e.name===t))}async function X(e,t,r,n={}){const{featureType:a,extent:o}=await Y(e,t,r,n),{fields:s,geometryType:i,swapXY:p,objectIdField:u,geometryField:c}=await q(e,a.typeName,n);return{url:e.operations.GetCapabilities.url,name:a.name,namespaceUri:a.namespaceUri,fields:s,geometryField:c,geometryType:i,objectIdField:u,spatialReference:n.spatialReference??T.WGS84,extent:o,swapXY:p,wfsCapabilities:e,customParameters:n.customParameters}}async function Y(e,r,n,o={}){const{spatialReference:s=T.WGS84}=o,i=e.readFeatureTypes(),p=r?W(i,r,n):i.next().value;if(a(p))throw r?new t(P,`The type '${r}' could not be found in the service`):new t(N,\"The service is empty\");let u=new F({...p.extent,spatialReference:s});if(!y(s,m))try{await c(m,s,void 0,o),u=l(u,m)}catch{throw new t(v,\"Projection not supported\")}return{extent:u,spatialReference:s,featureType:p}}async function q(e,r,n={}){const[o,i]=await s([J(e.operations.DescribeFeatureType.url,r,n),_(e,r,n)]);if(o.error||i.error)throw new t(E,`An error occurred while getting info about the feature type '${r}'`,{error:o.error||i.error});const{fields:p,errors:u}=o.value??{},c=o.value?.geometryType||i.value?.geometryType,l=i.value?.swapXY??!1;if(a(c))throw new t(G,`The geometry type could not be determined for type '${r}`,{typeName:r,geometryType:c,fields:p,errors:u});return{...z(p??[]),geometryType:c,swapXY:l}}function z(e){const t=e.find((e=>\"geometry\"===e.type));let r=e.find((e=>\"oid\"===e.type));return e=e.filter((e=>\"geometry\"!==e.type)),r||(r=new h({name:C,type:\"oid\",alias:C}),e.unshift(r)),{geometryField:t?.name??null,objectIdField:r.name,fields:e}}async function _(t,r,n={}){let a,o=!1;const[s,i]=await Promise.all([K(t.operations.GetFeature.url,r,t.operations.GetFeature.outputFormat,{...n,count:1}),e(t.operations.GetFeature.url,{responseType:\"text\",query:Z(r,void 0,{...n,count:1}),signal:n?.signal})]),p=\"FeatureCollection\"===s.type&&s.features[0]?.geometry;if(p){let e;switch(a=f.fromJSON(d(p.type)),p.type){case\"Point\":e=p.coordinates;break;case\"LineString\":case\"MultiPoint\":e=p.coordinates[0];break;case\"MultiLineString\":case\"Polygon\":e=p.coordinates[0][0];break;case\"MultiPolygon\":e=p.coordinates[0][0][0]}const t=/<[^>]*pos[^>]*> *(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?)/.exec(i.data);if(t){const r=e[0].toFixed(3),n=e[1].toFixed(3),a=parseFloat(t[1]).toFixed(3);r===parseFloat(t[2]).toFixed(3)&&n===a&&(o=!0)}}return{geometryType:a,swapXY:o}}async function J(t,r,n){return Q(r,(await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"DescribeFeatureType\",VERSION:x,TYPENAME:r,...n?.customParameters},signal:n?.signal})).data)}function Q(e,r){const{name:a}=re(e),s=te(r);ae(s);const i=n(b(s.firstElementChild,{element:e=>({name:e.getAttribute(\"name\"),typeName:re(e.getAttribute(\"type\")).name})}),(({name:e})=>e===a));if(o(i)){const e=n(b(s.firstElementChild,{complexType:e=>e}),(e=>e.getAttribute(\"name\")===i.typeName));if(o(e))return B(e)}throw new t(P,`Type '${e}' not found in document`,{document:(new XMLSerializer).serializeToString(s)})}const H=new Set([\"objectid\",\"fid\"]);function B(e){const r=[],n=[];let a;const o=b(e,{complexContent:{extension:{sequence:{element:e=>e}}}});for(const s of o){const o=s.getAttribute(\"name\");if(!o)continue;let i,p;if(s.hasAttribute(\"type\")?i=re(s.getAttribute(\"type\")).name:w(s,{simpleType:{restriction:e=>(i=re(e.getAttribute(\"base\")).name,{maxLength:e=>{p=+e.getAttribute(\"value\")}})}}),!i)continue;const u=\"true\"===s.getAttribute(\"nillable\");let c=!1;switch(i.toLowerCase()){case\"integer\":case\"nonpositiveinteger\":case\"negativeinteger\":case\"long\":case\"int\":case\"short\":case\"byte\":case\"nonnegativeinteger\":case\"unsignedlong\":case\"unsignedint\":case\"unsignedshort\":case\"unsignedbyte\":case\"positiveinteger\":n.push(new h({name:o,alias:o,type:\"integer\",nullable:u}));break;case\"float\":case\"double\":case\"decimal\":n.push(new h({name:o,alias:o,type:\"double\",nullable:u}));break;case\"boolean\":case\"string\":case\"gyearmonth\":case\"gyear\":case\"gmonthday\":case\"gday\":case\"gmonth\":case\"anyuri\":case\"qname\":case\"notation\":case\"normalizedstring\":case\"token\":case\"language\":case\"idrefs\":case\"entities\":case\"nmtoken\":case\"nmtokens\":case\"name\":case\"ncname\":case\"id\":case\"idref\":case\"entity\":case\"duration\":case\"time\":n.push(new h({name:o,alias:o,type:\"string\",nullable:u,length:p??255}));break;case\"datetime\":case\"date\":n.push(new h({name:o,alias:o,type:\"date\",nullable:u,length:p??36}));break;case\"pointpropertytype\":a=\"point\",c=!0;break;case\"multipointpropertytype\":a=\"multipoint\",c=!0;break;case\"curvepropertytype\":case\"multicurvepropertytype\":case\"multilinestringpropertytype\":a=\"polyline\",c=!0;break;case\"surfacepropertytype\":case\"multisurfacepropertytype\":case\"multipolygonpropertytype\":a=\"polygon\",c=!0;break;case\"geometrypropertytype\":case\"multigeometrypropertytype\":c=!0,r.push(new t(G,`geometry type '${i}' is not supported`,{type:(new XMLSerializer).serializeToString(e)}));break;default:r.push(new t(k,`Unknown field type '${i}'`,{type:(new XMLSerializer).serializeToString(e)}))}c&&n.push(new h({name:o,alias:o,type:\"geometry\",nullable:u}))}for(const t of n)if(\"integer\"===t.type&&!t.nullable&&H.has(t.name.toLowerCase())){t.type=\"oid\";break}return{geometryType:a,fields:n,errors:r}}async function K(r,n,a,o){let{data:s}=await e(r,{responseType:\"text\",query:Z(n,a,o),signal:o?.signal});s=s.replace(/\": +(-?\\d+),(\\d+)(,)?/g,'\": $1.$2$3');try{if(o?.dateFields?.length){const e=new Set(o.dateFields);return JSON.parse(s,((t,r)=>e.has(t)?g(r):r))}return JSON.parse(s)}catch(i){throw new t(A,\"Error while parsing theÂ response\",{response:s,error:i})}}function Z(e,t,r){return{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:x,TYPENAMES:e,OUTPUTFORMAT:t,SRSNAME:\"EPSG:4326\",STARTINDEX:r?.startIndex,COUNT:r?.count,...r?.customParameters}}async function ee(t,r,n){const a=te((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:x,TYPENAMES:r,RESULTTYPE:\"hits\",...n?.customParameters},signal:n?.signal})).data);ae(a);const o=Number.parseFloat(a.firstElementChild.getAttribute(\"numberMatched\"));return Number.isNaN(o)?0:o}function te(e){return(new DOMParser).parseFromString(e.trim(),\"text/xml\")}function re(e){const[t,r]=e.split(\":\");return{prefix:r?t:\"\",name:r??t}}function ne(e){const r=e.firstElementChild?.getAttribute(\"version\");if(r&&r!==x)throw new t(U,`Unsupported WFS version ${r}. Supported version: ${x}`)}function ae(e){let r=\"\",n=\"\";if(w(e.firstElementChild,{Exception:e=>(r=e.getAttribute(\"exceptionCode\"),{ExceptionText:e=>{n=e.textContent}})}),r)throw new t(`wfs-layer:${r}`,n)}export{C as WFS_OID_FIELD_NAME,J as describeFeatureType,W as findFeatureType,D as getCapabilities,K as getFeature,ee as getFeatureCount,Y as getFeatureTypeInfo,X as getWFSLayerInfo,Q as parseDescribeFeatureTypeResponse,I as parseGetCapabilitiesResponse,z as prepareWFSLayerFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../core/Error.js\";import{HandleOwnerMixin as r}from\"../../../core/HandleOwner.js\";import has from\"../../../core/has.js\";import o from\"../../../core/Loadable.js\";import{isSome as s,unwrap as a}from\"../../../core/maybe.js\";import{debounce as i,eachAlways as n}from\"../../../core/promiseUtils.js\";import{open as c}from\"../../../core/workers/workers.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{featureGeometryTypeKebabDictionary as u}from\"../../../geometry/support/typeUtils.js\";import{createCapabilities as m,createDrawingInfo as y}from\"./support/clientSideDefaults.js\";import{getCapabilities as d,getWFSLayerInfo as f,prepareWFSLayerFields as h,findFeatureType as w}from\"../../ogc/wfsUtils.js\";import g from\"../../../rest/support/FeatureSet.js\";import S from\"../../../geometry/Extent.js\";let F=class extends(r(o)){constructor(){super(...arguments),this._connection=null,this.capabilities=m(!1,!1),this.type=\"wfs\",this.refresh=i((async e=>{await this.load();const{extent:t}=await this._connection.invoke(\"refresh\",e);return t&&(this.sourceJSON.extent=t),{dataChanged:!0,updates:{extent:this.sourceJSON.extent}}}))}load(e){const t=s(e)?e.signal:null;return this.addResolvingPromise(this._startWorker({signal:t})),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}async openPorts(){return await this.load(),this._connection.openPorts()}async queryFeatures(e,t={}){await this.load(t);const r=await this._connection.invoke(\"queryFeatures\",e?e.toJSON():null,t);return g.fromJSON(r)}async queryFeaturesJSON(e,t={}){return await this.load(t),this._connection.invoke(\"queryFeatures\",e?e.toJSON():null,t)}async queryFeatureCount(e,t={}){return await this.load(t),this._connection.invoke(\"queryFeatureCount\",e?e.toJSON():null,t)}async queryObjectIds(e,t={}){return await this.load(t),this._connection.invoke(\"queryObjectIds\",e?e.toJSON():null,t)}async queryExtent(e,t={}){await this.load(t);const r=await this._connection.invoke(\"queryExtent\",e?e.toJSON():null,t);return{count:r.count,extent:S.fromJSON(r.extent)}}async querySnapping(e,t={}){return await this.load(t),this._connection.invoke(\"querySnapping\",e,t)}async _createLoadOptions(e){const{url:r,customParameters:o,name:s,namespaceUri:i,spatialReference:n,fields:c,geometryType:p,swapXY:l}=this.layer;if(!r)throw new t(\"wfs-layer:missing-url\",\"WFSLayer must be created with a url\");this.wfsCapabilities||(this.wfsCapabilities=await d(r,{customParameters:o,...e}));const m=[\"fields\",\"geometryType\",\"name\",\"namespaceUri\",\"spatialReference\",\"swapXY\"].some((e=>null==this.layer[e])),y=m?await f(this.wfsCapabilities,s,i,{spatialReference:n,customParameters:o,signal:e?.signal}):{...h(c??[]),geometryType:p,name:s,namespaceUri:i,spatialReference:n,swapXY:l},g=a(w(this.wfsCapabilities.readFeatureTypes(),y.name,y.namespaceUri)),S=u.toJSON(y.geometryType);return{customParameters:o,featureType:g,fields:y.fields?.map((e=>e.toJSON()))??[],geometryField:y.geometryField,geometryType:S,getFeatureUrl:this.wfsCapabilities.operations.GetFeature.url,getFeatureOutputFormat:this.wfsCapabilities.operations.GetFeature.outputFormat,objectIdField:y.objectIdField,spatialReference:y.spatialReference.toJSON(),swapXY:!!y.swapXY}}async _startWorker(e){const[t,r]=await n([this._createLoadOptions(e),c(\"WFSSourceWorker\",{...e,strategy:has(\"feature-layers-workers\")?\"dedicated\":\"local\"})]),o=t.error||r.error||null,s=r.value||null;if(o)throw s&&s.close(),o;const a=t.value;this._connection=r.value;const{extent:i}=await this._connection.invoke(\"load\",a,e);this.sourceJSON={extent:i,fields:a.fields,geometryType:a.geometryType,objectIdField:a.objectIdField,geometryField:a.geometryField,drawingInfo:y(a.geometryType),name:a.featureType.title,wfsInfo:{name:a.featureType.name,featureUrl:a.getFeatureUrl,maxFeatures:3e3,swapXY:a.swapXY,supportedSpatialReferences:a.featureType.supportedSpatialReferences,version:\"2.0.0\",wfsNamespace:a.featureType.namespaceUri}}}};e([p()],F.prototype,\"capabilities\",void 0),e([p({constructOnly:!0})],F.prototype,\"layer\",void 0),e([p()],F.prototype,\"sourceJSON\",void 0),e([p()],F.prototype,\"type\",void 0),e([p()],F.prototype,\"wfsCapabilities\",void 0),F=e([l(\"esri.layers.graphics.sources.WFSSource\")],F);export{F as WFSSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import r from\"../PopupTemplate.js\";import\"../renderers/ClassBreaksRenderer.js\";import\"../renderers/DictionaryRenderer.js\";import\"../renderers/DotDensityRenderer.js\";import\"../renderers/HeatmapRenderer.js\";import\"../renderers/PieChartRenderer.js\";import\"../renderers/Renderer.js\";import\"../renderers/SimpleRenderer.js\";import\"../renderers/UniqueValueRenderer.js\";import\"../renderers/support/jsonUtils.js\";import{rendererTypes as t,webSceneRendererTypes as i}from\"../renderers/support/types.js\";import{isSome as o}from\"../core/maybe.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{setDeepValue as n}from\"../core/object.js\";import{urlToObject as p}from\"../core/urlUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import{Integer as l}from\"../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as m}from\"../core/accessorSupport/decorators/writer.js\";import{featureGeometryTypeKebabDictionary as u}from\"../geometry/support/typeUtils.js\";import y from\"./Layer.js\";import{WFSSource as f}from\"./graphics/sources/WFSSource.js\";import{BlendLayer as c}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as h}from\"./mixins/CustomParametersMixin.js\";import{FeatureEffectLayer as g}from\"./mixins/FeatureEffectLayer.js\";import{FeatureReductionLayer as j}from\"./mixins/FeatureReductionLayer.js\";import{OperationalLayer as w}from\"./mixins/OperationalLayer.js\";import{OrderedLayer as v}from\"./mixins/OrderedLayer.js\";import{PortalLayer as b}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as F}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as x}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as I}from\"./mixins/TemporalLayer.js\";import{WFS_OID_FIELD_NAME as O}from\"./ogc/wfsUtils.js\";import{elevationInfo as R,labelsVisible as S,legendEnabled as P,opacityDrawingInfo as q,popupEnabled as E,screenSizePerspectiveEnabled as U,url as T}from\"./support/commonProperties.js\";import L from\"./support/Field.js\";import{defineFieldProperties as C}from\"./support/fieldProperties.js\";import{fixRendererFields as D,fixTimeInfoFields as Q}from\"./support/fieldUtils.js\";import W from\"./support/LabelClass.js\";import{reader as V}from\"./support/labelingInfo.js\";import N from\"../rest/support/Query.js\";import{createPopupTemplate as X}from\"../support/popupUtils.js\";import Y from\"../geometry/SpatialReference.js\";import B from\"../geometry/Extent.js\";var J;const M=C();let _=J=class extends(v(h(j(g(c(I(F(x(w(b(s(y)))))))))))){constructor(e){super(e),this.copyright=null,this.customParameters=null,this.definitionExpression=null,this.displayField=null,this.elevationInfo=null,this.featureUrl=void 0,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType=\"WFS\",this.maxFeatures=3e3,this.mode=0,this.name=null,this.namespaceUri=null,this.outFields=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new f({layer:this}),this.spatialReference=Y.WGS84,this.spatialReferences=[4326],this.swapXY=void 0,this.title=\"WFS\",this.type=\"wfs\",this.url=null,this.version=void 0}static fromWFSLayerInfo(e){const{customParameters:r,fields:t,geometryField:i,geometryType:o,name:s,namespaceUri:n,objectIdField:p,spatialReference:a,swapXY:l,url:d,wfsCapabilities:m}=e;return new J({customParameters:r,fields:t,geometryField:i,geometryType:o,name:s,namespaceUri:n,objectIdField:p,spatialReference:a,swapXY:l,url:d,wfsCapabilities:m})}destroy(){this.source?.destroy()}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"WFS\"]},e).then((()=>this.source.load(e))).then((()=>{this.read(this.source.sourceJSON,{origin:\"service\",url:this.parsedUrl}),this.revert([\"objectIdField\",\"fields\",\"timeInfo\",\"spatialReference\",\"name\",\"namespaceUri\"],\"service\"),D(this.renderer,this.fieldsIndex),Q(this.timeInfo,this.fieldsIndex)}))),Promise.resolve(this)}get capabilities(){return this.source?.capabilities}get createQueryVersion(){return this.commitProperty(\"definitionExpression\"),this.commitProperty(\"timeExtent\"),this.commitProperty(\"timeOffset\"),this.commitProperty(\"geometryType\"),this.commitProperty(\"capabilities\"),(this._get(\"createQueryVersion\")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}writeFields(e,r,t){const i=e.filter((e=>e.name!==O));this.geometryField&&i.unshift(new L({name:this.geometryField,alias:this.geometryField,type:\"geometry\"})),n(t,i.map((e=>e.toJSON())),r)}get parsedUrl(){return p(this.url)}set renderer(e){D(e,this.fieldsIndex),this._set(\"renderer\",e)}get wfsCapabilities(){return this.source?.wfsCapabilities}set wfsCapabilities(e){this.source&&(this.source.wfsCapabilities=e)}createPopupTemplate(e){return X(this,e)}createQuery(){const e=new N;e.returnGeometry=!0,e.outFields=[\"*\"],e.where=this.definitionExpression||\"1=1\";const{timeOffset:r,timeExtent:t}=this;return e.timeExtent=null!=r&&null!=t?t.offset(-r.value,r.unit):t||null,e}getFieldDomain(e,r){return this.getField(e)?.domain}getField(e){return this.fieldsIndex?.get(e)}queryFeatures(e,r){return this.load().then((()=>this.source.queryFeatures(N.from(e)||this.createQuery(),r))).then((e=>{if(e?.features)for(const r of e.features)r.layer=r.sourceLayer=this;return e}))}queryObjectIds(e,r){return this.load().then((()=>this.source.queryObjectIds(N.from(e)||this.createQuery(),r)))}queryFeatureCount(e,r){return this.load().then((()=>this.source.queryFeatureCount(N.from(e)||this.createQuery(),r)))}queryExtent(e,r){return this.load().then((()=>this.source.queryExtent(N.from(e)||this.createQuery(),r)))}async hasDataChanged(){try{const{dataChanged:e,updates:r}=await this.source.refresh(this.customParameters);return o(r)&&this.read(r,{origin:\"service\",url:this.parsedUrl,ignoreDefaults:!0}),e}catch{}return!1}};e([a({readOnly:!0})],_.prototype,\"capabilities\",null),e([a({type:String})],_.prototype,\"copyright\",void 0),e([a({readOnly:!0})],_.prototype,\"createQueryVersion\",null),e([a({json:{name:\"wfsInfo.customParameters\",write:{ignoreOrigin:!0}}})],_.prototype,\"customParameters\",void 0),e([a({readOnly:!0})],_.prototype,\"defaultPopupTemplate\",null),e([a({type:String,json:{name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],_.prototype,\"definitionExpression\",void 0),e([a({type:String})],_.prototype,\"displayField\",void 0),e([a(R)],_.prototype,\"elevationInfo\",void 0),e([a({type:String,readOnly:!0,json:{name:\"wfsInfo.featureUrl\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"featureUrl\",void 0),e([a({type:[L],json:{name:\"layerDefinition.fields\",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:\"fields\"}}}})],_.prototype,\"fields\",void 0),e([m(\"fields\")],_.prototype,\"writeFields\",null),e([a(M.fieldsIndex)],_.prototype,\"fieldsIndex\",void 0),e([a({type:B,json:{name:\"extent\"}})],_.prototype,\"fullExtent\",void 0),e([a()],_.prototype,\"geometryField\",void 0),e([a({type:String,json:{read:{source:\"layerDefinition.geometryType\",reader:u.read},write:{target:\"layerDefinition.geometryType\",writer:u.write,ignoreOrigin:!0},origins:{service:{read:u.read}}}})],_.prototype,\"geometryType\",void 0),e([a({type:String})],_.prototype,\"id\",void 0),e([a(S)],_.prototype,\"labelsVisible\",void 0),e([a({type:[W],json:{name:\"layerDefinition.drawingInfo.labelingInfo\",read:{reader:V},write:!0}})],_.prototype,\"labelingInfo\",void 0),e([a(P)],_.prototype,\"legendEnabled\",void 0),e([a({type:[\"show\",\"hide\"]})],_.prototype,\"listMode\",void 0),e([a({type:String})],_.prototype,\"objectIdField\",void 0),e([a({type:[\"WFS\"]})],_.prototype,\"operationalLayerType\",void 0),e([a({type:l,json:{name:\"wfsInfo.maxFeatures\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"maxFeatures\",void 0),e([a({type:[0],readOnly:!0,json:{origins:{\"web-map\":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],_.prototype,\"mode\",void 0),e([a({type:String,json:{name:\"wfsInfo.name\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"name\",void 0),e([a({type:String,json:{name:\"wfsInfo.wfsNamespace\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"namespaceUri\",void 0),e([a(q)],_.prototype,\"opacity\",void 0),e([a(M.outFields)],_.prototype,\"outFields\",void 0),e([a({readOnly:!0})],_.prototype,\"parsedUrl\",null),e([a(E)],_.prototype,\"popupEnabled\",void 0),e([a({type:r,json:{name:\"popupInfo\",write:!0}})],_.prototype,\"popupTemplate\",void 0),e([a({types:t,json:{origins:{service:{name:\"drawingInfo.renderer\"},\"web-scene\":{types:i,name:\"layerDefinition.drawingInfo.renderer\",write:!0}},name:\"layerDefinition.drawingInfo.renderer\",write:{ignoreOrigin:!0}}})],_.prototype,\"renderer\",null),e([a(U)],_.prototype,\"screenSizePerspectiveEnabled\",void 0),e([a({readOnly:!0})],_.prototype,\"source\",void 0),e([a({type:Y,json:{name:\"layerDefinition.spatialReference\",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:\"extent.spatialReference\"}}}})],_.prototype,\"spatialReference\",void 0),e([a({readOnly:!0,type:[l],json:{name:\"wfsInfo.supportedSpatialReferences\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"spatialReferences\",void 0),e([a({type:Boolean,value:!1,json:{name:\"wfsInfo.swapXY\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"swapXY\",void 0),e([a({json:{write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:\"name\"}}}})],_.prototype,\"title\",void 0),e([a({json:{read:!1},readOnly:!0})],_.prototype,\"type\",void 0),e([a(T)],_.prototype,\"url\",void 0),e([a({type:String,readOnly:!0,json:{name:\"wfsInfo.version\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"version\",void 0),e([a()],_.prototype,\"wfsCapabilities\",null),_=J=e([d(\"esri.layers.WFSLayer\")],_);const k=_;export{k as default};\n"],"sourceRoot":""}